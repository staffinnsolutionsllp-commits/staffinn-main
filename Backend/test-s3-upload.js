const { S3Client, PutObjectCommand, ListObjectsV2Command } = require('@aws-sdk/client-s3');\nrequire('dotenv').config();\n\n// Initialize S3 client\nconst s3Client = new S3Client({\n  region: process.env.AWS_REGION || 'ap-south-1',\n  credentials: {\n    accessKeyId: process.env.AWS_ACCESS_KEY_ID,\n    secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY\n  }\n});\n\nconst S3_BUCKET_NAME = process.env.S3_BUCKET_NAME || 'staffinn-files';\n\nasync function testS3Connection() {\n  try {\n    console.log('Testing S3 connection...');\n    console.log('Bucket:', S3_BUCKET_NAME);\n    console.log('Region:', process.env.AWS_REGION);\n    \n    // Test listing objects in the bucket\n    const listCommand = new ListObjectsV2Command({\n      Bucket: S3_BUCKET_NAME,\n      MaxKeys: 5\n    });\n    \n    const response = await s3Client.send(listCommand);\n    console.log('S3 connection successful!');\n    console.log('Objects in bucket:', response.Contents?.length || 0);\n    \n    // Test upload with a dummy file\n    const testKey = `institute-images/test-${Date.now()}.txt`;\n    const uploadCommand = new PutObjectCommand({\n      Bucket: S3_BUCKET_NAME,\n      Key: testKey,\n      Body: 'Test file for institute image upload',\n      ContentType: 'text/plain',\n      ACL: 'public-read'\n    });\n    \n    await s3Client.send(uploadCommand);\n    console.log('Test upload successful!');\n    \n    // Generate the URL\n    const imageUrl = `https://${S3_BUCKET_NAME}.s3.${process.env.AWS_REGION}.amazonaws.com/${testKey}`;\n    console.log('Test file URL:', imageUrl);\n    \n    console.log('\\nInstitute image upload functionality is ready!');\n    console.log('\\nNext steps:');\n    console.log('1. Start the backend server: npm start');\n    console.log('2. Start the frontend: npm run dev');\n    console.log('3. Login as an institute user');\n    console.log('4. Go to My Dashboard -> My Profile -> Edit Profile');\n    console.log('5. Upload a profile photo and click Update and Go Live');\n    \n  } catch (error) {\n    console.error('S3 test failed:', error.message);\n    console.log('\\nPlease check:');\n    console.log('1. AWS credentials in .env file');\n    console.log('2. S3 bucket exists and is accessible');\n    console.log('3. Bucket permissions allow public read access');\n  }\n}\n\ntestS3Connection();